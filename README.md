# torch
machine-learning libraries for Source Academy

## Getting Started

Install yarn:

``` bash
corepack enable
# or
npm install -g yarn
```

Install dependencies:

```bash
yarn install
```

## Demo Usage

First, build it:

```bash
yarn build
```

### Node

See `examples/basic_backpropagation.js`.

```bash
node examples/basic_backpropagation.js
```

### Browser

You can run `http-server` and load `examples/browser/index.html` to see how it works.

```bash
yarn serve
# and navigate to http://localhost:8080/examples/browser/index.html to run torch in js
# or http://localhost:8080/examples/pyodide/index.html to run in python
# or http://localhost:8080/test/ to run the tests
```

## Development Notes

Files ending with `.ts.j2` are generated by jinja to `.gen.ts`, using `scripts/generate.py`.

Thus, Python is required to run `scripts/generate.py`,
which also requires `Jinja2` (see `scripts/requirements.txt`).

Do not edit `.gen.ts` directly, instead edit the `.ts.j2` files.

### Development Scripts

You can use `yarn watch` to automatically test after each edit.

Note that it does not automatically regenerate `.gen.ts` files when editing `.ts.j2` files.
You will have to run `yarn generate` or `python3 scripts/generate.py`.

This is to allow for testing in `.gen.ts` files before moving the edits to `.ts.j2`.